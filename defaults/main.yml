---
# General parameters #
mysql_is_install: false # A boolean value, whether install the MySQL.
mysql_version: '57' # Specify the MySQL version
mysql_path: '/data' # Specify the MySQL data directory
mysql_selinux: false # SELinux mysqld policy
mysql_user: 'mysql' # System user name for running mysqld services
mysql_mailto: 'somebody@example.com' # MySQL report mail recipient
mysql_sa_pass: 'password' # MySQL root account password

# Service Mesh #
environments: 'SIT' # Define the service environment.
consul_public_register: false # Whether register a exporter service with public consul client.
consul_public_exporter_token: '00000000-0000-0000-0000-000000000000' # Public Consul client ACL token.
consul_public_clients: 'localhost' # List of public consul clients.
consul_public_http_port: '8500' # The consul HTTP API port.

# Backup parameters #
mysql_backupset_arg:
  life: '604800' # Lifetime of the latest full backup in seconds
  keep: '2' # The number of full backups (and its incrementals) to keep
  encryptkey: 'Un9FA+CgxM5Yr/MpwTh5s6NXSQE0brp8' # BackupSet encryption key, Generate by [openssl rand -base64 24]

# Listen port #
mysql_port_arg:
  mysqld: '3306' # MySQL instance listen port
  mysql_exporter_port: '9104' # Prometheus MySQL Exporter listen port

# Server System Variables #
mysql_arg:
  binlog_cache_size: '1M' # Size of the cache to hold changes to the binary log during a transaction
  character_set: 'utf8' # Server's default character set
  connect_timeout: '30' # Server waits for a connect packet in seconds
  innodb_flush_log_at_trx_commit: '2' # Controls the balance between strict ACID compliance for commit operations and higher performance.
  interactive_timeout: '3600' # Server waits for activity on an interactive connection in seconds
  join_buffer_size: '1M' # Size of the buffer that is used for index scans
  log_queries_not_using_indexes: '1' # Logs whether queries that do not use indexes
  long_query_time: '1' # Logs query that executes longer than in seconds
  max_allowed_packet: '32M' # The maximum size of one packet
  max_heap_table_size: '32M' # The maximum size to which user-created MEMORY tables are permitted to grow
  open_files_limit: '131072' # The number of files that the operating system permits MySQL to open
  open_nproc_limit: '131072' # The number of processes launched by systemd
  query_cache_size: '0' # Query cache size
  query_cache_type: '0' # Query cache type
  read_rnd_buffer_size: '1M' # Size of the buffer that is used for reading rows in sorted order
  storage_engine: 'InnoDB' # Preferred storage engine, InnoDB or MyISAM
  sync_binlog: '1000' # Controls how often the MySQL server synchronizes the binary log to disk
  table_definition_cache: '4096' # The number of table definitions that can be stored in the definition cache
  table_open_cache: '4096' # The number of open tables for all threads
  table_open_cache_instances: '64' # The number of open tables cache instances 
  tmp_table_size: '32M' # The maximum size of internal in-memory temporary tables
  wait_timeout: '3600' # Server waits for activity on a noninteractive connection in seconds
